var CircleGauge=function(t){var i=this&&this.__assign||function(){return(i=Object.assign||function(t){for(var i,e=1,s=arguments.length;e<s;e++)for(var o in i=arguments[e])Object.prototype.hasOwnProperty.call(i,o)&&(t[o]=i[o]);return t}).apply(this,arguments)};function o(t,i){for(var e in i)t.setAttribute(e,i[e])}function s(t,i,e){var s=document.createElementNS("http://www.w3.org/2000/svg",t);return o(s,i),void 0!==e&&e.appendChild(s),s}function u(t,i,e,s,o){100<=i&&(i=99.99);var r=t+i/100*(Math.PI/2*3-t);return["M",e+s+e*Math.cos(t),e+o+e*Math.sin(t),"A",e,e,0,50<i?1:0,1,e+s+e*Math.cos(r),e+o+e*Math.sin(r)].join(" ")}function r(t){return 2*t.radius+(t.lineWidth>t.emptyLineWidth?t.lineWidth:t.emptyLineWidth)}function l(t){return(t.lineWidth>t.emptyLineWidth?t.lineWidth:t.emptyLineWidth)/2}var e={bgColor:"#EEF5DB",lineColor:"#E63462",lineWidth:5,radius:50,value:0,textColor:"#ff0000",textSize:12,showText:!0,emptyLineColor:"#E0E0E0",emptyLineWidth:5};function n(t){void 0===t&&(t={}),this._opts=i({},e,t)}return n.prototype.create=function(t){var i=this._opts,e=r(i);return this.svg=s("svg",{xmlns:"http://www.w3.org/2000/svg",width:e,height:e}),this._bg=s("rect",{fill:i.bgColor,width:"100%",height:"100%"},this.svg),this._start=-Math.PI/2,this._end=this._start+i.value/100*(Math.PI/2*3-this._start),this._emptypath=s("path",{fill:"transparent",stroke:i.emptyLineColor,"stroke-width":i.emptyLineWidth,d:u(this._start,99.99,i.radius,i.emptyLineWidth/2,i.emptyLineWidth/2)},this.svg),this._path=s("path",{fill:"transparent",stroke:i.lineColor,"stroke-width":i.lineWidth,d:u(this._start,i.value,i.radius,i.lineWidth/2,i.lineWidth/2)},this.svg),this._text=s("text",{fill:i.textColor,x:e/2,y:e/2+i.textSize/2,"text-anchor":"middle","font-size":i.textSize},this.svg),t.appendChild(this.svg),this},n.prototype.val=function(t,i,e,s){if(void 0!==t){var o=this._opts,r=this;t=parseFloat(t);var n=l(o);if(i){var h=t,p=(h-o.value)/e,a=setInterval(function(){r._opts.value+=p,Math.abs(r._opts.value-h)<=2*Math.abs(p)&&(r._opts.value=h,r._path.setAttribute("d",u(r._start,r._opts.value,r._opts.radius,n,n)),clearInterval(a),"function"==typeof s&&s()),r._path.setAttribute("d",u(r._start,r._opts.value,r._opts.radius,n,n)),"function"==typeof r.step&&r.step()},1);return}this._opts.value=t,"function"==typeof r.step&&r.step(),this._path.setAttribute("d",u(this._start,this._opts.value,this._opts.radius,n,n))}return this._opts.value},n.prototype.text=function(t){return void 0!==t&&(this._text.textContent=t),this._text.textContent},n.prototype.textColor=function(t){return void 0!==t&&(this._opts.textColor=t,this._text.setAttribute("fill",t)),this._opts.textColor},n.prototype.textSize=function(t){if(void 0!==t){this._opts.textSize=t;var i=this._opts,e=(l(i),r(i));this._text.setAttribute("font-size",t),o(this._text,{x:e/2,y:e/2+i.textSize/2})}return this._opts.textSize},n.prototype.lineWidth=function(t){return void 0!==t&&(this._opts.lineWidth=parseFloat(t),this.resize()),this._opts.lineWidth},n.prototype.lineColor=function(t){return void 0!==t&&(this._opts.lineColor=t,this._path.setAttribute("stroke",t)),this._opts.lineColor},n.prototype.emptyLineWidth=function(t){return void 0!==t&&(this._opts.emptyLineWidth=parseFloat(t),this.resize()),this._opts.emptyLineWidth},n.prototype.emptyLineColor=function(t){return void 0!==t&&(this._opts.emptyLineColor=t,this._emptypath.setAttribute("stroke",t)),this._opts.emptyLineColor},n.prototype.bgColor=function(t){return void 0!==t&&(this._opts.bgColor=t,o(this._bg,{fill:t})),this._opts.bgColor},n.prototype.radius=function(t){return void 0!==t&&(this._opts.radius=parseFloat(t),this.resize()),this._opts.radius},n.prototype.resize=function(){var t=this._opts,i=l(t),e=r(t);o(this.svg,{width:e,height:e}),o(this._path,{"stroke-width":t.lineWidth,d:u(this._start,t.value,t.radius,i,i)}),o(this._emptypath,{"stroke-width":t.emptyLineWidth,d:u(this._start,99.99,t.radius,i,i)}),o(this._text,{x:e/2,y:(e+t.textSize)/2})},"undefined"!=typeof module&&module.exports?module.exports=n:"function"==typeof define&&define.amd?define([],function(){return n}):t.CircleGauge=n,n}(this.window||global);